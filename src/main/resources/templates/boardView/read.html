<!DOCTYPE html>
<html lang="ko"
	  xmlns:th="http://www.thymeleaf.org"
	  xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
	<meta charset="UTF-8">
	<title>게시판</title>
	<script th:src="@{/js/jquery-3.7.1.min.js}"></script>
	<script>
		$(document).ready(function() {
			$('#deleteButton').click(function() {
				let boardNum = $(this).data('num');
				if (confirm('삭제하시겠습니까?')) {
					location.href = 'delete?boardNum=' + boardNum;
				}
			});
		});

	</script>
</head>
<body>
<header>
	<h1>[ 판매상품 상세보기 ]</h1>
</header>
<section>
	<table>
	<tr>
		<th>번호</th>
		<td th:text="${board.boardNum}"></td>
	</tr>
	<tr>
		<th>판매자</th>
		<td th:text="${board.memberId}"></td>
	</tr>
	<tr>
		<th>카테고리</th>
		<td th:text="${board.category}"></td>
	</tr>
		<tr>
		<th>제목</th>
		<td th:text="${board.title}"></td>
	</tr>
		<tr>
		<th>내용</th>
		<td th:text="${board.contents}"></td>
	</tr>
		<tr>
		<th>판매가격</th>
		<td th:text="${board.price}"></td>
	</tr>
	<tr>
		<th>상태</th>
		<td th:if="${board.soldout} == true">판매완료</td>
		<td th:unless="${board.soldout} == true">판매중</td>
	</tr>
		<tr>
		<th>구매자</th>
	</tr>

	</table>
<br>

	<div th:if="${#authentication.name == board.memberId}">
		<button id="deleteButton" th:data-num="${board.boardNum}">삭제</button>
	</div>
		<div th:unless="${#authentication.name == board.memberId}">
		<button id="deleteButton" th:data-num="${board.boardNum}">구매하기</button>
	</div>
<br>
</section>
</body>
</html>
