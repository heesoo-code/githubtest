<!DOCTYPE html>
<html xmlns:th="https://thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<!-- <script src="\js\jquery-3.7.1.min.js"></script> -->
<script th:src="@{/js/jquery-3.7.1.min.js}"></script>
<script>
$(document).ready(function() {
	$('#inputButton').click(function() {
		let id = $(this).data('id');
		//let id = $(this).attr('data-id');
		$(opener.document).find('#id').val(id);
		//opener.document.getElementById('id').value = id;
		window.close();
	});
});
</script>
</head>
<body>
<h1> [ ID 중복 확인]</h1>
<section>
<form id="searchForm" action="idCheck" method="post">
검색할 ID<input type="text" name="Id" id="Id"><input type="submit" value="검색하기">	
</form>
<div th:if="${Id != null}">
	<div th:if="${result}">
		<p><span th:text="${Id}"></span>
			<span> : 사용할 수 있는 ID입니다.</span></p>
		<p><input type="button" value="ID사용하기" Id="inputButton" th:data-id="${Id}"></p>
	</div>
	<div th:if="${not result}">
		<p><span th:text="${Id}"></span><span> : 이미 사용중인 아이디입니다</span><p>
	</div>
</div>
</section>
</body>
</html>